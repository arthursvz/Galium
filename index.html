@@ -1,644 +0,0 @@
<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport Interactif | IDS & IPS</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Cool Gray -->
    <!-- Application Structure Plan: L'application est structur√©e en cinq sections logiques accessibles via une navigation fixe : 1. Fondamentaux pour introduire les concepts de base. 2. Comparaison pour distinguer clairement IDS et IPS via un tableau interactif. 3. M√©thodes pour d√©tailler les approches de d√©tection avec des cartes et un graphique d'anomalie. 4. √âtat de l'Art pour pr√©senter les technologies modernes avec un graphique d'√©volution. 5. Syst√®mes Embarqu√©s pour aborder les sp√©cificit√©s de ce domaine avec des visuels sur les contraintes et un s√©lecteur de mod√®les. Cette structure th√©matique, plut√¥t que lin√©aire, favorise une exploration non-s√©quentielle et une compr√©hension progressive, partant du g√©n√©ral pour aller au plus sp√©cifique. L'utilisateur peut ainsi se concentrer sur les domaines qui l'int√©ressent le plus. -->
    <!-- Visualization & Content Choices: 
        - Rapport Info: Principes de base IDS/IPS -> Goal: Informer -> Viz/Method: Diagrammes HTML/CSS (Placement r√©seau), Cartes d'information. Interaction: Aucune, clart√© visuelle. Justification: Repr√©sentation simple et efficace des concepts fondamentaux. Library: HTML/Tailwind.
        - Rapport Info: Diff√©rences IDS vs. IPS -> Goal: Comparer -> Viz/Method: Tableau comparatif structur√©. Interaction: Onglets pour basculer entre les types de syst√®mes. Justification: Permet une comparaison directe et claire des caract√©ristiques cl√©s. Library: JS pour les onglets.
        - Rapport Info: M√©thodes de d√©tection -> Goal: Organiser/Expliquer -> Viz/Method: Graphique de ligne Chart.js pour visualiser une anomalie. Interaction: Tooltip sur le graphique pour afficher les d√©tails. Justification: Une visualisation d'anomalie est plus parlante qu'un long texte. Library: Chart.js.
        - Rapport Info: √âvolution des technologies -> Goal: Montrer le changement -> Viz/Method: Graphique √† barres Chart.js. Interaction: Hover pour afficher les taux de pr√©cision. Justification: Illustre de mani√®re concise les progr√®s apport√©s par l'IA/ML. Library: Chart.js.
        - Rapport Info: Mod√®les embarquables -> Goal: Comparer/Informer -> Viz/Method: S√©lecteur interactif (boutons + zone de texte). Interaction: Clic sur un bouton pour afficher les d√©tails du mod√®le. Justification: Pr√©sente des informations complexes de mani√®re progressive et sans surcharger l'interface. Library: JS.
        - Rapport Info: √âtude de cas embarqu√©e g√©n√©r√©e par LLM -> Goal: Engagement/Explication Pratique -> Viz/Method: Zone de texte avec input. Interaction: Bouton d√©clenche l'appel LLM. Justification: Fournit des exemples concrets et dynamiques. Library: Gemini API (JS Fetch).
        - Rapport Info: Pr√©diction de menaces par LLM -> Goal: Information prospective -> Viz/Method: Zone de texte. Interaction: Bouton d√©clenche l'appel LLM. Justification: Offre une vision futuriste bas√©e sur l'IA. Library: Gemini API (JS Fetch).
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1e293b;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #3b82f6;
        }
        .active-nav {
            color: #3b82f6;
            font-weight: 600;
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .active-tab {
            background-color: #3b82f6;
            color: white;
        }
        .inactive-tab {
            background-color: #e2e8f0;
            color: #475569;
        }
        .llm-button {
            @apply flex items-center justify-center bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-blue-700 transition duration-300 ease-in-out transform hover:scale-105 mt-6;
        }
        .loading-spinner {
            border: 4px solid rgba(255,255,255,.2);
            border-top: 4px solid white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-slate-800">IDS / IPS</h1>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#fondamentaux" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-700">Fondamentaux</a>
                        <a href="#comparaison" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-700">Comparaison</a>
                        <a href="#methodes" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-700">M√©thodes</a>
                        <a href="#etat-art" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-700">√âtat de l'Art</a>
                        <a href="#embarque" class="nav-link px-3 py-2 rounded-md text-sm font-medium text-slate-700">Syst√®mes Embarqu√©s</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="fondamentaux" class="py-16 sm:py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">Les Fondamentaux de la D√©tection d'Intrusion</h2>
                    <p class="mt-4 text-lg max-w-3xl mx-auto text-slate-600">Cette section introduit les concepts de base des syst√®mes de d√©tection (IDS) et de pr√©vention (IPS) d'intrusion. Vous d√©couvrirez leur r√¥le essentiel dans la cybers√©curit√© moderne, comment ils se positionnent dans une architecture r√©seau et le principe fondamental qu'ils prot√®gent : la triade CIA (Confidentialit√©, Int√©grit√©, Disponibilit√©).</p>
                </div>

                <div class="mt-12 grid gap-8 md:grid-cols-2 lg:gap-12">
                    <div class="p-8 bg-white rounded-2xl shadow-md">
                        <h3 class="text-2xl font-bold text-slate-800">Qu'est-ce qu'un IDS ? <span class="text-2xl ml-2">üö®</span></h3>
                        <p class="mt-4 text-slate-600"><strong class="font-semibold text-slate-700">Syst√®me de D√©tection d'Intrusion (Intrusion Detection System)</strong>. C'est un dispositif passif qui surveille le trafic r√©seau ou les activit√©s d'un syst√®me. Son r√¥le est de d√©tecter les activit√©s suspectes ou les violations de politique de s√©curit√© et de g√©n√©rer des alertes. L'IDS n'intervient pas pour bloquer l'attaque.</p>
                        <p class="mt-3 text-slate-600"><strong class="font-semibold text-slate-700">Analogie :</strong> C'est comme une alarme anti-cambriolage. Elle sonne pour vous avertir d'une effraction, mais n'emp√™che pas le voleur d'entrer.</p>
                    </div>
                    <div class="p-8 bg-white rounded-2xl shadow-md">
                        <h3 class="text-2xl font-bold text-slate-800">Qu'est-ce qu'un IPS ? <span class="text-2xl ml-2">üõ°Ô∏è</span></h3>
                        <p class="mt-4 text-slate-600"><strong class="font-semibold text-slate-700">Syst√®me de Pr√©vention d'Intrusion (Intrusion Prevention System)</strong>. C'est un dispositif actif. Comme un IDS, il surveille et d√©tecte les menaces, mais il est √©galement capable de prendre des mesures pour les bloquer en temps r√©el. Il est plac√© "en ligne" sur le chemin du trafic.</p>
                        <p class="mt-3 text-slate-600"><strong class="font-semibold text-slate-700">Analogie :</strong> C'est un agent de s√©curit√© √† la porte. Il identifie la menace et l'emp√™che activement d'entrer dans le b√¢timent.</p>
                    </div>
                </div>

                <div class="mt-16 text-center">
                     <h3 class="text-2xl font-bold text-slate-800 mb-8">Positionnement dans le R√©seau</h3>
                     <div class="bg-white p-6 rounded-2xl shadow-md max-w-4xl mx-auto">
                        <div class="flex flex-col items-center space-y-4">
                           <div class="text-2xl font-bold">üåê Internet</div>
                           <div class="h-6 w-1 bg-slate-300"></div>
                           <div class="bg-red-100 text-red-800 px-4 py-2 rounded-full font-semibold">üî• Pare-feu</div>
                           <div class="h-6 w-1 bg-slate-300"></div>
                           <div class="w-full border-t border-slate-300 my-2"></div>
                           <div class="relative w-full flex justify-center items-start pt-6">
                               <div class="absolute -top-3 bg-white px-2 text-slate-500 font-medium">Flux de trafic</div>
                               <div class="w-full h-1 bg-slate-300"></div>
                               <div class="absolute -right-2 top-3 text-3xl">‚û°Ô∏è</div>
                           </div>
                            <div class="flex justify-around w-full mt-4 items-start">
                                <div class="flex flex-col items-center">
                                    <h4 class="font-bold text-lg mb-2">IPS (En ligne)</h4>
                                    <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-semibold">üõ°Ô∏è IPS</div>
                                    <div class="h-6 w-1 bg-slate-300 mt-2"></div>
                                    <div class="bg-slate-200 text-slate-800 px-4 py-2 rounded-lg font-semibold mt-2">üíª Serveur</div>
                                </div>
                                <div class="flex flex-col items-center">
                                    <h4 class="font-bold text-lg mb-2">IDS (Hors bande)</h4>
                                    <div class="relative">
                                        <div class="h-6 w-1 bg-slate-300 transform -rotate-45 absolute -top-1 -left-4"></div>
                                        <div class="bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-semibold">üö® IDS</div>
                                    </div>
                                    <p class="text-sm text-slate-500 mt-2">(Port miroir)</p>
                                </div>
                            </div>
                     </div>
                     <p class="mt-4 text-slate-600 max-w-3xl mx-auto">L'IPS se place directement sur le chemin du trafic pour le filtrer (en ligne), tandis que l'IDS analyse une copie du trafic (hors bande) sans affecter la latence.</p>
                 </div>
            </div>
        </section>

        <section id="comparaison" class="py-16 sm:py-20 bg-slate-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">IDS vs. IPS : La Confrontation</h2>
                    <p class="mt-4 text-lg max-w-3xl mx-auto text-slate-600">Bien que leurs noms soient similaires, les IDS et IPS ont des r√¥les, des positionnements et des impacts tr√®s diff√©rents sur la s√©curit√© d'un r√©seau. Cette section propose une comparaison directe pour vous aider √† saisir leurs distinctions cl√©s. Utilisez les onglets pour basculer entre les deux syst√®mes et comparer leurs caract√©ristiques point par point.</p>
                </div>
                
                <div class="mt-12 max-w-4xl mx-auto">
                    <div class="flex justify-center mb-6">
                        <button id="show-ids" class="tab-button text-lg font-semibold py-3 px-8 rounded-l-lg active-tab">IDS üö®</button>
                        <button id="show-ips" class="tab-button text-lg font-semibold py-3 px-8 rounded-r-lg inactive-tab">IPS üõ°Ô∏è</button>
                    </div>

                    <div id="comparison-content" class="bg-white rounded-2xl shadow-xl overflow-hidden">
                    </div>
                </div>
            </div>
        </section>

        <section id="methodes" class="py-16 sm:py-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">Les M√©thodes de D√©tection</h2>
                    <p class="mt-4 text-lg max-w-3xl mx-auto text-slate-600">Un IDS/IPS peut utiliser plusieurs techniques pour identifier une menace. Chaque m√©thode a ses forces et ses faiblesses, et les syst√®mes modernes les combinent souvent pour une efficacit√© maximale. Explorez ici les approches principales, de la comparaison de signatures connues √† la d√©tection de comportements anormaux.</p>
                </div>

                <div class="mt-12 grid gap-8 md:grid-cols-2">
                    <div class="p-6 bg-white rounded-xl shadow-md">
                        <h3 class="text-xl font-bold text-slate-800">üîé D√©tection par Signature</h3>
                        <p class="mt-3 text-slate-600">Compare le trafic √† une base de donn√©es de signatures d'attaques connues (comme un antivirus). C'est tr√®s efficace contre les menaces r√©pertori√©es.</p>
                        <p class="mt-2 text-sm"><strong class="text-green-600">Avantage :</strong> Tr√®s faible taux de faux positifs.</p>
                        <p class="mt-1 text-sm"><strong class="text-red-600">Inconv√©nient :</strong> Incapable de d√©tecter les attaques nouvelles ou inconnues (zero-day).</p>
                    </div>
                    <div class="p-6 bg-white rounded-xl shadow-md">
                        <h3 class="text-xl font-bold text-slate-800">üìà D√©tection par Anomalie</h3>
                        <p class="mt-3 text-slate-600">Cr√©e un mod√®le de r√©f√©rence du comportement "normal" du r√©seau. Toute d√©viation significative par rapport √† ce mod√®le est signal√©e comme une potentielle menace.</p>
                        <p class="mt-2 text-sm"><strong class="text-green-600">Avantage :</strong> Peut d√©tecter les attaques zero-day.</p>
                        <p class="mt-1 text-sm"><strong class="text-red-600">Inconv√©nient :</strong> Peut g√©n√©rer plus de faux positifs ; un trafic l√©gitime mais inhabituel peut √™tre signal√©.</p>
                    </div>
                </div>

                <div class="mt-12">
                    <h3 class="text-2xl font-bold text-center text-slate-800">Visualisation d'une Anomalie</h3>
                    <p class="text-center mt-2 text-slate-600 max-w-2xl mx-auto">Ce graphique illustre comment la d√©tection par anomalie fonctionne. Le syst√®me apprend le trafic normal (la ligne de base) et d√©clenche une alerte lorsqu'une activit√© inhabituelle (le pic) est d√©tect√©e.</p>
                    <div class="mt-8 chart-container">
                        <canvas id="anomalyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="etat-art" class="py-16 sm:py-20 bg-slate-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">√âtat de l'Art et Technologies Modernes</h2>
                     <p class="mt-4 text-lg max-w-3xl mx-auto text-slate-600">Le domaine des IDS/IPS est en constante √©volution pour contrer des menaces toujours plus sophistiqu√©es. Cette section explore les avanc√©es majeures, notamment l'int√©gration de l'intelligence artificielle et du machine learning, qui ont radicalement am√©lior√© la pr√©cision et les capacit√©s de d√©tection.</p>
                </div>
                
                <div class="mt-12 grid md:grid-cols-2 gap-8 items-center">
                     <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow">
                           <h4 class="font-bold text-lg text-blue-600">NGIPS & Conscience Applicative</h4>
                           <p class="text-slate-600 mt-1">Les Syst√®mes de Pr√©vention d'Intrusion de Nouvelle G√©n√©ration (NGIPS) comprennent le contexte des applications (qui utilise quelle application) pour prendre des d√©cisions plus intelligentes.</p>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow">
                           <h4 class="font-bold text-lg text-blue-600">Int√©gration du Threat Intelligence</h4>
                           <p class="text-slate-600 mt-1">Les syst√®mes modernes s'abonnent √† des flux de renseignements sur les menaces en temps r√©el pour mettre √† jour instantan√©ment leurs connaissances sur les nouvelles attaques, adresses IP malveillantes, etc.</p>
                        </div>
                         <div class="bg-white p-6 rounded-xl shadow">
                           <h4 class="font-bold text-lg text-blue-600">IDS/IPS dans le Cloud</h4>
                           <p class="text-slate-600 mt-1">Solutions natives au cloud qui s'adaptent dynamiquement aux environnements virtualis√©s et conteneuris√©s, offrant une protection √©lastique.</p>
                        </div>
                        <button id="predictThreatsBtn" class="llm-button">
                            <span>Pr√©dire les Prochaines Menaces ‚ú®</span>
                            <div id="predictThreatsSpinner" class="loading-spinner ml-2 hidden"></div>
                        </button>
                        <div id="predictedThreatsOutput" class="bg-white p-6 rounded-xl shadow mt-4 text-slate-700 min-h-[100px]">
                            <p>Cliquez sur le bouton pour obtenir des pr√©dictions sur les menaces futures.</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-center text-slate-800 mb-4">L'Impact du Machine Learning</h3>
                        <p class="text-center text-slate-600 mb-6">L'int√©gration de l'IA et du Machine Learning a permis un bond significatif dans l'efficacit√© de la d√©tection, en particulier pour les anomalies complexes.</p>
                        <div class="chart-container h-96">
                             <canvas id="mlImpactChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="embarque" class="py-16 sm:py-20">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-extrabold text-slate-900 sm:text-4xl">Focus : Syst√®mes Embarqu√©s</h2>
                    <p class="mt-4 text-lg max-w-3xl mx-auto text-slate-600">Int√©grer un IDS/IPS dans des syst√®mes embarqu√©s (IoT, automobile, etc.) repr√©sente un d√©fi majeur en raison des ressources limit√©es. Cette section se penche sur l'√©tat de l'art, les mod√®les adapt√©s et les axes de recherche actuels pour s√©curiser ces environnements contraints.</p>
                </div>

                <div class="mt-12 bg-white p-8 rounded-2xl shadow-lg">
                    <h3 class="text-2xl font-bold text-slate-800 text-center">Les Contraintes de l'Embarqu√©</h3>
                    <div class="mt-6 grid grid-cols-1 sm:grid-cols-3 gap-6 text-center">
                        <div class="p-4 bg-amber-50 rounded-lg border border-amber-200">
                            <div class="text-4xl">‚ö°</div>
                            <h4 class="font-bold mt-2">Consommation √ânerg√©tique</h4>
                            <p class="text-sm text-slate-600">Les appareils sur batterie n√©cessitent des algorithmes tr√®s peu √©nergivores.</p>
                        </div>
                        <div class="p-4 bg-sky-50 rounded-lg border border-sky-200">
                            <div class="text-4xl">üß†</div>
                            <h4 class="font-bold mt-2">Puissance de Calcul (CPU)</h4>
                            <p class="text-sm text-slate-600">Les processeurs ont une capacit√© limit√©e, ce qui exclut les mod√®les trop complexes.</p>
                        </div>
                        <div class="p-4 bg-purple-50 rounded-lg border border-purple-200">
                            <div class="text-4xl">üíæ</div>
                            <h4 class="font-bold mt-2">M√©moire (RAM & Stockage)</h4>
                            <p class="text-sm text-slate-600">L'espace pour le mod√®le et les donn√©es d'ex√©cution est tr√®s restreint.</p>
                        </div>
                    </div>
                </div>

                <div class="mt-12 grid lg:grid-cols-2 gap-12 items-start">
                    <div class="bg-white p-8 rounded-2xl shadow-lg">
                        <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">√âtat de l'Art & Mod√®les Adapt√©s</h3>
                        <p class="text-center text-slate-600 mb-6">Cliquez sur un type de mod√®le pour voir ses caract√©ristiques pour l'embarqu√©.</p>
                        <div class="flex flex-wrap justify-center gap-3 mb-6">
                            <button class="model-btn py-2 px-4 bg-slate-200 rounded-lg font-semibold transition hover:bg-slate-300">Arbres de D√©cision</button>
                            <button class="model-btn py-2 px-4 bg-slate-200 rounded-lg font-semibold transition hover:bg-slate-300">SVM</button>
                            <button class="model-btn py-2 px-4 bg-slate-200 rounded-lg font-semibold transition hover:bg-slate-300">TinyML / DNN L√©gers</button>
                        </div>
                        <div id="model-details" class="p-6 bg-slate-50 rounded-lg min-h-[180px]">
                            <p class="text-slate-500 italic">S√©lectionnez un mod√®le pour afficher les d√©tails ici.</p>
                        </div>
                    </div>

                    <div class="bg-white p-8 rounded-2xl shadow-lg">
                        <h3 class="text-2xl font-bold text-slate-800 mb-6 text-center">Axes de Recherche Actuels</h3>
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-semibold text-lg text-blue-700">Apprentissage F√©d√©r√© (Federated Learning)</h4>
                                <p class="text-slate-600">Entra√Æner un mod√®le global sur de multiples appareils sans jamais centraliser leurs donn√©es brutes, pr√©servant ainsi la confidentialit√©. Id√©al pour l'IoT.</p>
                            </div>
                            <hr>
                             <div>
                                <h4 class="font-semibold text-lg text-blue-700">Auto-apprentissage sur Appareil (On-device Learning)</h4>
                                <p class="text-slate-600">Permettre aux syst√®mes de s'adapter aux changements de leur environnement local sans n√©cessiter de r√©-entra√Ænement centralis√© constant.</p>
                            </div>
                            <hr>
                             <div>
                                <h4 class="font-semibold text-lg text-blue-700">Acc√©l√©ration Mat√©rielle</h4>
                                <p class="text-slate-600">Utilisation de puces sp√©cialis√©es (FPGA, TPU) pour ex√©cuter des inf√©rences de mod√®les IA de mani√®re rapide et √©conome en √©nergie.</p>
                            </div>
                        </div>
                        <div class="mt-8">
                            <h3 class="text-2xl font-bold text-slate-800 mb-4 text-center">G√©n√©rer une √âtude de Cas d'Intrusion Embarqu√©e ‚ú®</h3>
                            <p class="text-center text-slate-600 mb-4">D√©crivez un type d'appareil (ex: montre connect√©e, voiture autonome) et laissez l'IA cr√©er un sc√©nario.</p>
                            <input type="text" id="deviceInput" placeholder="Ex: capteur industriel" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 text-slate-700">
                            <button id="generateCaseStudyBtn" class="llm-button w-full">
                                <span>G√©n√©rer l'√©tude de cas ‚ú®</span>
                                <div id="caseStudySpinner" class="loading-spinner ml-2 hidden"></div>
                            </button>
                            <div id="caseStudyOutput" class="bg-slate-50 p-6 rounded-lg mt-4 text-slate-700 min-h-[150px]">
                                <p>L'√©tude de cas g√©n√©r√©e appara√Ætra ici.</p>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
        </section>
    </main>
    
    <footer class="bg-slate-800 mt-20">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-slate-400">Rapport interactif sur les syst√®mes IDS/IPS. Con√ßu pour une exploration intuitive.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // Corrected way to access potentially global variables, avoiding ReferenceError
    const appId = (typeof window.__app_id !== 'undefined') ? window.__app_id : 'default-app-id';
    const firebaseConfig = (typeof window.__firebase_config !== 'undefined') ? JSON.parse(window.__firebase_config) : {};
    const initialAuthToken = (typeof window.__initial_auth_token !== 'undefined') ? window.__initial_auth_token : null;

    const comparisonContent = {
        ids: {
            title: 'IDS : Le D√©tective üö®',
            content: [
                { label: 'R√¥le', value: 'Passif : D√©tecte et alerte.' },
                { label: 'Positionnement', value: 'Hors bande (out-of-band). Re√ßoit une copie du trafic.' },
                { label: 'Impact R√©seau', value: 'Nul. N\'ajoute pas de latence au trafic principal.' },
                { label: 'R√©ponse √† la menace', value: 'Aucune action de blocage directe. Repose sur un administrateur ou un autre syst√®me pour agir.' },
                { label: 'Impact Faux Positif', value: 'G√©n√®re une alerte inutile ("bruit"). Peut fatiguer les √©quipes de s√©curit√©.' },
            ]
        },
        ips: {
            title: 'IPS : Le Gardien üõ°Ô∏è',
            content: [
                { label: 'R√¥le', value: 'Actif : D√©tecte, alerte et bloque la menace.' },
                { label: 'Positionnement', value: 'En ligne (in-line). Le trafic passe √† travers l\'IPS.' },
                { label: 'Impact R√©seau', value: 'Introduit une l√©g√®re latence. Peut devenir un point de d√©faillance unique (SPOF).' },
                { label: 'R√©ponse √† la menace', value: 'Bloque le paquet malveillant, termine la session ou bloque l\'adresse IP source.' },
                { label: 'Impact Faux Positif', value: 'Grave. Peut bloquer du trafic l√©gitime, causant une interruption de service.' },
            ]
        }
    };

    const modelDetailsData = {
        "Arbres de D√©cision": {
            title: "Arbres de D√©cision / For√™ts Al√©atoires",
            pros: "Tr√®s rapides √† l'inf√©rence, faciles √† interpr√©ter et peu gourmands en RAM. Excellent choix pour les t√¢ches de classification sur des CPU contraints.",
            cons: "Peuvent devenir complexes et lourds en m√©moire si les arbres sont tr√®s profonds. Moins performants que les r√©seaux de neurones sur des donn√©es tr√®s complexes (images, sons)."
        },
        "SVM": {
            title: "Machines √† Vecteurs de Support (SVM)",
            pros: "Efficaces en termes de m√©moire car ils n'utilisent qu'un sous-ensemble de points d'entra√Ænement (les vecteurs de support). Bons pour la classification binaire claire.",
            cons: "Le temps d'entra√Ænement peut √™tre long sur de grands jeux de donn√©es. Le choix du bon noyau et des bons param√®tres est crucial et pas toujours intuitif."
        },
        "TinyML / DNN L√©gers": {
            title: "TinyML / R√©seaux de Neurones Profonds (DNN) L√©gers",
            pros: "Capacit√© √† mod√©liser des relations tr√®s complexes. Des architectures comme MobileNet ou des techniques de quantification/pruning permettent de les ex√©cuter sur des microcontr√¥leurs.",
            cons: "Restent les plus gourmands en CPU et en √©nergie, m√™me dans leurs versions l√©g√®res. Le d√©veloppement et l'optimisation sont plus complexes."
        }
    };

    function renderComparison(type) {
        const data = comparisonContent[type];
        const container = document.getElementById('comparison-content');
        let html = `<div class="p-8">
                        <h3 class="text-2xl font-bold text-center text-slate-800 mb-6">${data.title}</h3>
                        <ul class="space-y-4">`;
        data.content.forEach(item => {
            html += `<li class="flex flex-col sm:flex-row">
                        <strong class="w-full sm:w-1/3 font-semibold text-slate-700">${item.label}</strong>
                        <span class="w-full sm:w-2/3 text-slate-600">${item.value}</span>
                     </li>`;
        });
        html += `</ul></div>`;
        container.innerHTML = html;
    }

    const idsButton = document.getElementById('show-ids');
    const ipsButton = document.getElementById('show-ips');

    idsButton.addEventListener('click', () => {
        renderComparison('ids');
        idsButton.classList.replace('inactive-tab', 'active-tab');
        ipsButton.classList.replace('active-tab', 'inactive-tab');
    });

    ipsButton.addEventListener('click', () => {
        renderComparison('ips');
        ipsButton.classList.replace('inactive-tab', 'active-tab');
        idsButton.classList.replace('active-tab', 'inactive-tab');
    });

    renderComparison('ids');

    const anomalyCtx = document.getElementById('anomalyChart').getContext('2d');
    new Chart(anomalyCtx, {
        type: 'line',
        data: {
            labels: ['10:00', '10:05', '10:10', '10:15', '10:20', '10:25', '10:30', '10:35'],
            datasets: [{
                label: 'Trafic R√©seau (paquets/s)',
                data: [120, 130, 125, 140, 135, 850, 150, 145],
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59, 130, 246, 0.1)',
                fill: true,
                tension: 0.3
            }, {
                label: 'Ligne de base normale',
                data: [150, 150, 150, 150, 150, 150, 150, 150],
                borderColor: '#f59e0b',
                borderDash: [5, 5],
                pointRadius: 0,
                fill: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y;
                            }
                            if (context.dataIndex === 5) {
                                return label + ' - ANOMALIE D√âTECT√âE';
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Paquets par seconde'
                    }
                }
            }
        }
    });
    
    const mlImpactCtx = document.getElementById('mlImpactChart').getContext('2d');
    new Chart(mlImpactCtx, {
        type: 'bar',
        data: {
            labels: ['Bas√© Signature', 'Bas√© Anomalie (Statistique)', 'Machine Learning', 'Deep Learning'],
            datasets: [{
                label: 'Taux de d√©tection des nouvelles menaces',
                data: [5, 55, 85, 95],
                backgroundColor: [
                    'rgba(100, 116, 139, 0.6)',
                    'rgba(251, 146, 60, 0.6)',
                    'rgba(59, 130, 246, 0.6)',
                    'rgba(22, 163, 74, 0.6)',
                ],
                borderColor: [
                    'rgb(100, 116, 139)',
                    'rgb(251, 146, 60)',
                    'rgb(59, 130, 246)',
                    'rgb(22, 163, 74)',
                ],
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    beginAtZero: true,
                    max: 100,
                    title: {
                        display: true,
                        text: 'Pr√©cision (%)'
                    }
                }
            },
            plugins: {
                legend: {
                    display: false
                }
            }
        }
    });

    const modelBtns = document.querySelectorAll('.model-btn');
    const modelDetailsContainer = document.getElementById('model-details');
    modelBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const modelName = btn.textContent;
            const details = modelDetailsData[modelName];
            modelDetailsContainer.innerHTML = `
                <h4 class="font-bold text-lg text-slate-800">${details.title}</h4>
                <p class="mt-2"><strong class="text-green-600">Avantages :</strong> <span class="text-slate-600">${details.pros}</span></p>
                <p class="mt-2"><strong class="text-red-600">Inconv√©nients :</strong> <span class="text-slate-600">${details.cons}</span></p>
            `;
            modelBtns.forEach(b => b.classList.remove('bg-blue-500', 'text-white'));
            btn.classList.add('bg-blue-500', 'text-white');
        });
    });

    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 80) {
                current = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active-nav');
            if (link.getAttribute('href').includes(current)) {
                link.classList.add('active-nav');
            }
        });
    });

    // LLM Integration
    const generateCaseStudyBtn = document.getElementById('generateCaseStudyBtn');
    const deviceInput = document.getElementById('deviceInput');
    const caseStudyOutput = document.getElementById('caseStudyOutput');
    const caseStudySpinner = document.getElementById('caseStudySpinner');

    generateCaseStudyBtn.addEventListener('click', async () => {
        const deviceType = deviceInput.value.trim();
        if (!deviceType) {
            caseStudyOutput.innerHTML = '<p class="text-red-500">Veuillez saisir un type d\'appareil.</p>';
            return;
        }

        caseStudyOutput.innerHTML = '<p class="text-slate-500">G√©n√©ration de l\'√©tude de cas en cours...</p>';
        caseStudySpinner.classList.remove('hidden');
        generateCaseStudyBtn.disabled = true;

        const prompt = `G√©n√®re une br√®ve √©tude de cas (environ 150 mots) d'une intrusion cybern√©tique sur un syst√®me embarqu√© de type "${deviceType}". D√©cris l'appareil, le type d'attaque, comment elle s'est d√©roul√©e et l'impact. Utilise un langage clair et √©ducatif.`;
        
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiKey = ""; 
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                caseStudyOutput.innerHTML = `<p class="text-slate-700">${text}</p>`;
            } else {
                caseStudyOutput.innerHTML = '<p class="text-red-500">Erreur lors de la g√©n√©ration de l\'√©tude de cas. Veuillez r√©essayer.</p>';
            }
        } catch (error) {
            console.error('Erreur lors de l\'appel √† l\'API Gemini:', error);
            caseStudyOutput.innerHTML = '<p class="text-red-500">Erreur de connexion ou du serveur. Veuillez r√©essayer plus tard.</p>';
        } finally {
            caseStudySpinner.classList.add('hidden');
            generateCaseStudyBtn.disabled = false;
        }
    });

    const predictThreatsBtn = document.getElementById('predictThreatsBtn');
    const predictedThreatsOutput = document.getElementById('predictedThreatsOutput');
    const predictThreatsSpinner = document.getElementById('predictThreatsSpinner');

    predictThreatsBtn.addEventListener('click', async () => {
        predictedThreatsOutput.innerHTML = '<p class="text-slate-500">Pr√©diction des menaces en cours...</p>';
        predictThreatsSpinner.classList.remove('hidden');
        predictThreatsBtn.disabled = true;

        const prompt = "En te basant sur les tendances actuelles en cybers√©curit√© et l'√©volution des IDS/IPS, quelles sont les 3 √† 5 prochaines menaces cybern√©tiques majeures √† surveiller et pourquoi ? Sois concis et utilise des puces (tirets ou ast√©risques).";
        
        let chatHistory = [];
        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
        const payload = { contents: chatHistory };
        const apiKey = ""; 
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

        try {
            const response = await fetch(apiUrl, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });
            const result = await response.json();
            if (result.candidates && result.candidates.length > 0 &&
                result.candidates[0].content && result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0) {
                const text = result.candidates[0].content.parts[0].text;
                predictedThreatsOutput.innerHTML = `<div class="text-slate-700">${text.replace(/\*/g, '‚Ä¢ ')}</div>`; // Replace asterisks with bullet points for better rendering
            } else {
                predictedThreatsOutput.innerHTML = '<p class="text-red-500">Erreur lors de la pr√©diction des menaces. Veuillez r√©essayer.</p>';
            }
        } catch (error) {
            console.error('Erreur lors de l\'appel √† l\'API Gemini:', error);
            predictedThreatsOutput.innerHTML = '<p class="text-red-500">Erreur de connexion ou du serveur. Veuillez r√©essayer plus tard.</p>';
        } finally {
            predictThreatsSpinner.classList.add('hidden');
            predictThreatsBtn.disabled = false;
        }
    });
});
</script>
</body>
</html>
